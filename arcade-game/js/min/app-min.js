var Enemy=function(e){this.x=Math.floor(4*Math.random()),this.y=e,this.speed=3*Math.random()+1,this.heading="R",this.sprite="images/enemy-bug.png"};Enemy.prototype.update=function(e){this.y===player.y&&Math.round(this.x)===player.x&&player.reset(),"R"===this.heading?this.x<4?this.x+=this.speed*e:this.heading="L":this.x>0?this.x-=this.speed*e:this.heading="R"},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),101*this.x,83*this.y-30)};var Player=function(){this.x=2,this.y=5,this.sprite="images/char-boy.png"};Player.prototype.render=Enemy.prototype.render,Player.prototype.update=function(){0===this.y&&this.reset()},Player.prototype.reset=function(){this.y=5,this.x=2},Player.prototype.handleInput=function(e){switch(e){case"left":this.x>0&&this.x--;break;case"up":this.y>0&&this.y--;break;case"right":this.x<4&&this.x++;break;case"down":this.y<5&&this.y++}};for(var allEnemies=[],row=1;4>=row;row++){var enemy=new Enemy(row);allEnemies.push(enemy)}var player=new Player;document.addEventListener("keyup",function(e){var t={37:"left",38:"up",39:"right",40:"down"};player.handleInput(t[e.keyCode])});